{"version":3,"sources":["../src/BsMultiSelect.es8.js"],"names":[],"mappings":"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","file":"BsMultiSelect.js","sourcesContent":["import $ from 'jquery'\r\nimport Popper from 'popper.js'\r\n\r\n// TODO: \r\n// 2) require polyfill Element.closest polyfill IE 11\r\n// 3) require multiple classList.add polyfill IE 11\r\n\r\n// IIFE to declare private members\r\nconst BsMultiSelect = ((window, $, Popper) => {\r\n    const JQUERY_NO_CONFLICT = $.fn[pluginName];\r\n    const pluginName = \"dashboardCodeBsMultiSelect\";\r\n    const dataKey = \"plugin_\" + pluginName;\r\n\r\n    const defFilterInputItemStyleSys = {\"display\": \"block\"};\r\n    const defSelectedPanelClass = \"form-control btn border\";\r\n    const defFilterInputStyle = {\"width\": \"2ch\", \"border\": \"0\", \"padding\": \"0\", \"outline\": \"none\"};\r\n    const defSelectedPanelStyle = {\"cursor\": \"text\", \"display\": \"flex\", \"flex-wrap\": \"wrap\", \"align-items\": \"center\", \"margin-bottom\": \"0px\"};\r\n    const defSelectedItemClass = \"badge\";\r\n    const defSelectedItemStyle = {\"padding-left\": \"0px\", \"display\": \"flex\", \"align-items\": \"center\"};\r\n    const defRemoveSelectedItemButtonClass = \"close\";\r\n    const defRemoveSelectedItemButtonStyle = {\"font-size\": \"100%\"};\r\n    const defaults = {\r\n        items: [],\r\n        defaults: [],\r\n        //usePopper: true,\r\n        selectedPanelMinHeight: \"calc(2.25rem + 2px)\",\r\n        selectedPanelReadonlyBackgroundColor: \"#e9ecef\",\r\n        selectedPanelValidBoxShadow: \" 0 0 0 0.2rem rgba(40, 167, 69, 0.25)\",\r\n        selectedPanelInvalidBoxShadow: \"0 0 0 0.2rem rgba(220, 53, 69, 0.25)\",\r\n        filterInputColor: \"#495057\",\r\n        containerClass: \"dashboardcode-bsmultiselect\",\r\n        dropDownMenuClass: \"dropdown-menu\",\r\n        dropDownItemClass: \"px-2\",\r\n        selectedPanelClass: \"\",\r\n        selectedPanelReadonlyClass: \"\",\r\n        selectedItemClass: \"\", \r\n        removeSelectedItemButtonClass: \"\",\r\n        filterInputItemClass: \"\", \r\n        filterInputClass: \"\"\r\n    };\r\n\r\n    class Plugin {\r\n        constructor(element, options) {\r\n            if (typeof Popper === 'undefined') {\r\n                throw new TypeError('DashboardCode bsMultiSelect require Popper.js (https://popper.js.org)')\r\n            }\r\n\r\n            // readonly\r\n            this.element = element;\r\n            this.options = $.extend({}, defaults, options);\r\n            this.input = element;\r\n            this.container = null;\r\n            this.dropDownMenu = null;\r\n            this.selectedPanel = null;\r\n            this.filterInput = null;\r\n            this.filterInputItem = null;\r\n            this.popper = null;\r\n\r\n            // state\r\n            this.skipFocusout = false;\r\n            this.backspaceAtStartPoint = null;\r\n            this.selectedDropDownItem = null;\r\n            this.selectedDropDownIndex = null;\r\n            this.hasItems = false;\r\n\r\n            this.init();\r\n        }\r\n\r\n        updateDropDownPosition() {\r\n            //console.log(\"updateDropDownPosition\");\r\n            //if (this.options.usePopper) {\r\n                this.popper.update();\r\n            // } else {\r\n            //     $(this.dropDownMenu).dropdown('update');\r\n            // }\r\n        }\r\n\r\n        hideDropDown() {\r\n            //if (this.options.usePopper) {\r\n                //console.log(\"popper remove show\");\r\n                $(this.dropDownMenu).removeClass('show')\r\n            // } else {\r\n            //     if ($(this.dropDownMenu).hasClass('show'))\r\n            //         $(this.dropDownMenu).dropdown('toggle');\r\n            // }\r\n        }\r\n\r\n        showDropDown() {\r\n            if (this.hasItems) {\r\n                //if (this.options.usePopper) {\r\n                    //console.log(\"popper add show\");\r\n                    $(this.dropDownMenu).addClass('show')\r\n                // } else {\r\n                //     if (!$(this.dropDownMenu).hasClass('show'))\r\n                //         $(this.dropDownMenu).dropdown('toggle');\r\n                // }\r\n            }\r\n        }\r\n\r\n        setCheck(optionId, isChecked) {\r\n            for (var i = 0; i < this.input.options.length; i += 1) {\r\n                var option = this.input.options[i];\r\n                if (option.value == optionId) {\r\n                    this.input.options[i].selected = isChecked;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Public methods\r\n        getInputValue() {\r\n            return $(this.input).val();\r\n        }\r\n\r\n        closeDropDown() {\r\n            this.clearFilterInput();\r\n            this.hideDropDown();\r\n            this.updateDropDownPosition();\r\n        }\r\n\r\n\r\n        clearFilterInput() {\r\n            if (this.filterInput.value != '') {\r\n                this.filterInput.value = '';\r\n                this.filterDropDownMenu();\r\n                if (this.hasItems) {\r\n                    this.updateDropDownPosition(); \r\n                } \r\n            }\r\n        }\r\n\r\n        filterDropDownMenu() {\r\n            var text = this.filterInput.value.trim();\r\n            var visible = 0;\r\n            $(this.dropDownMenu).find('li').each(function () {\r\n                var $item = $(this);\r\n                if (text == \"\") {\r\n                    $item.show();\r\n                    visible++;\r\n                }\r\n                else {\r\n                    var itemText = $item.text();\r\n                    var $checkbox = $item.find('input[type=\"checkbox\"]');\r\n                    \r\n                    if (!$checkbox.prop('checked') && itemText.toLowerCase().includes(text.toLowerCase())) {\r\n                        $item.show();\r\n                        visible++;\r\n                    } else {\r\n                        $item.hide();\r\n                    }\r\n                }\r\n            });\r\n            this.hasItems = (visible > 0);\r\n            this.resetSelectDropDownMenu();\r\n        }\r\n\r\n        clickDropDownItem(event) {\r\n            //console.log(\"filter & stopPropagation\");\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n\r\n            var menuItem = event.currentTarget.closest(\"LI\");\r\n            var $menuItem = $(menuItem);\r\n            var optionId = $menuItem.data(\"option-id\");\r\n            var $checkBox = $menuItem.find('input[type=\"checkbox\"]');\r\n            if ($checkBox.prop('checked')) {\r\n                var $selectedItem = $(this.selectedPanel).find(`li[data-option-id=\"${optionId}\"]`);\r\n                this.removeSelectedItem($selectedItem, optionId, $checkBox);\r\n            } else {\r\n                var itemText = $menuItem.find('label').text();\r\n                this.createAndAppendSelectedItem($checkBox, optionId, itemText);\r\n                $checkBox.prop('checked', true);\r\n            }\r\n            this.clearFilterInput();\r\n            $(this.filterInput).focus();\r\n        }\r\n\r\n        \r\n        appendDropDownItem(itemValue, itemText, isChecked) {\r\n            var optionId = itemValue;\r\n            var checkBoxId = `dashboardcode-bsmultiselect-${this.input.name.toLowerCase()}-generated-id-${optionId.toLowerCase()}`;\r\n            var checked = isChecked ? \"checked\" : \"\";\r\n            var $dropDownItem = $(\r\n                `<li data-option-id=\"${optionId}\">\r\n                    <div class=\"custom-control custom-checkbox\">\r\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"${checkBoxId}\" ${checked}>\r\n                        <label class=\"custom-control-label\" for=\"${checkBoxId}\">${itemText}</label>\r\n                    </div>\r\n                 </li>`).addClass(this.options.dropDownItemClass).appendTo($(this.dropDownMenu));\r\n\r\n            var $checkBox = $dropDownItem.find(`input[type=\"checkbox\"]`);\r\n            if (isChecked) {\r\n                this.createAndAppendSelectedItem($checkBox, optionId, itemText);\r\n            }\r\n        }\r\n        \r\n        createAndAppendSelectedItem($checkBox, optionId, itemText) {\r\n            var $selectedItem = $(`<li data-option-id=\"${optionId}\"><span>${itemText}</span></li>`);\r\n            if (!this.options.selectedItemClass){\r\n                $selectedItem.addClass(defSelectedItemClass);\r\n                $selectedItem.css(defSelectedItemStyle)\r\n            }else{\r\n                $selectedItem.addClass(this.options.selectedItemClass);\r\n            }\r\n                \r\n            $selectedItem.insertBefore($(this.filterInputItem));\r\n            var $buttom = $(\"<button aria-label='Close' tabIndex='-1' type='button'><span aria-hidden='true'>&times;</span></button>\");\r\n            if (!this.options.removeSelectedItemButtonClass){\r\n                $buttom.addClass(defRemoveSelectedItemButtonClass);\r\n                $buttom.css(defRemoveSelectedItemButtonStyle);\r\n            }\r\n            else{\r\n                $buttom.addClass(this.options.removeSelectedItemButtonClass)\r\n            }\r\n            \r\n            $buttom.appendTo($selectedItem); \r\n            this.setCheck(optionId, true);\r\n\r\n            $buttom.click((event) => {\r\n                this.removeSelectedItem($selectedItem, optionId, $checkBox)\r\n                this.updateDropDownPosition();\r\n                $(this.filterInput).focus();\r\n            });\r\n        }\r\n\r\n        adoptFilterInputLength() {\r\n            this.filterInput.style.width = this.filterInput.value.length*1.3 + 2 + \"ch\";\r\n        }\r\n\r\n        analyzeInputText() {\r\n            var text = this.filterInput.value.trim().toLowerCase();\r\n            var item = [...this.dropDownMenu.querySelectorAll(\"LI\")]\r\n                .find(i => i.textContent.trim().toLowerCase() == text);\r\n            if (item != undefined) {\r\n                var $item = $(item);\r\n                var $checkBox = $item.find('input[type=\"checkbox\"]');\r\n                if (!$checkBox.prop('checked')) {\r\n                    var optionId = $item.data('option-id');\r\n                    var itemText = $item.find('label').text();\r\n                    this.createAndAppendSelectedItem($checkBox, optionId, itemText);\r\n                    $checkBox.prop('checked', true);\r\n\r\n                }\r\n                this.clearFilterInput();\r\n            }\r\n        }\r\n\r\n        resetSelectDropDownMenu() {\r\n            if (this.selectedDropDownItem != null) {\r\n                // IE11 doesn't support remove('text-primary', bg-light' )\r\n                this.selectedDropDownItem.classList.remove('bg-light');\r\n                this.selectedDropDownItem.classList.remove('text-primary');\r\n                this.selectedDropDownItem = null;\r\n            }\r\n            this.selectedDropDownIndex = null;\r\n        }\r\n        \r\n        keydownArrow(down) {\r\n            var items = [...this.dropDownMenu.querySelectorAll('LI:not([style*=\"display: none\"]')];\r\n            if (items.length > 0) {\r\n                this.showDropDown();\r\n                if (this.selectedDropDownItem == null) {\r\n                    \r\n                    this.selectedDropDownIndex = (down) ? 0 : items.length - 1;\r\n                }\r\n                else {\r\n                    // IE11 doesn't support remove('text-primary', bg-light' )\r\n                    this.selectedDropDownItem.classList.remove('bg-light');\r\n                    this.selectedDropDownItem.classList.remove('text-primary');\r\n                    if (down) {\r\n                        var newIndex = this.selectedDropDownIndex + 1;\r\n                        this.selectedDropDownIndex = (newIndex < items.length) ? newIndex : 0;\r\n                    } else {\r\n                        var newIndex = this.selectedDropDownIndex - 1;\r\n                        this.selectedDropDownIndex = (newIndex >= 0) ? newIndex : items.length - 1;\r\n                    }\r\n                }\r\n                this.selectedDropDownItem = items[this.selectedDropDownIndex];\r\n                // IE11 doesn't support add('text-primary', bg-light' )\r\n                this.selectedDropDownItem.classList.add('text-primary');\r\n                this.selectedDropDownItem.classList.add('bg-light' );\r\n                \r\n            }\r\n        }\r\n\r\n        removeSelectedItem($selectedItem, optionId, $checkBox) {\r\n            $selectedItem.remove();\r\n            this.setCheck(optionId, false);\r\n            $checkBox.prop('checked', false);\r\n        }\r\n\r\n        init() {\r\n            var $input = $(this.input);\r\n            $input.hide();\r\n            var disabled = this.input.disabled;\r\n\r\n            var $container = $(\"<div/>\");\r\n            if (!this.options.containerClass)\r\n                $container.addClass(this.options.containerClass);\r\n            $container.insertAfter($input);\r\n                \r\n            this.container = $container.get(0);\r\n\r\n            var $selectedPanel = $(\"<ul/>\");\r\n\r\n            if (!this.options.selectedPanelClass){\r\n                $selectedPanel.addClass(defSelectedPanelClass);\r\n                $selectedPanel.css(defSelectedPanelStyle);\r\n                $selectedPanel.css(\"min-height\",this.options.selectedPanelMinHeight);\r\n            }\r\n            else\r\n                $selectedPanel.addClass(this.options.selectedPanelClass);\r\n            $selectedPanel.appendTo($container);\r\n            this.selectedPanel = $selectedPanel.get(0);\r\n\r\n            if ($input.hasClass(\"is-valid\")){\r\n                $selectedPanel.removeClass(\"border\");\r\n                $selectedPanel.addClass(\"is-valid\");\r\n                //$selectedPanel.removeClass(\"btn-outline-danger\");\r\n                //$selectedPanel.addClass(\"btn-outline-success\");\r\n                \r\n            }\r\n            \r\n            if ($input.hasClass(\"is-invalid\")){\r\n                $selectedPanel.removeClass(\"border\");\r\n                $selectedPanel.addClass(\"is-invalid\");\r\n                //$selectedPanel.removeClass(\"btn-outline-success\");\r\n                //$selectedPanel.addClass(\"btn-outline-danger\");\r\n            }\r\n\r\n            var $filterInputItem = $('<li/>');\r\n            this.filterInputItem = $filterInputItem.get(0)\r\n            if (!this.options.filterInputItemClass)\r\n                $filterInputItem.css(defFilterInputItemStyleSys)\r\n            else\r\n                $filterInputItem.addClass(this.options.filterInputItemClass)\r\n            \r\n            $filterInputItem.appendTo($selectedPanel);\r\n            \r\n\r\n            var $filterInput = $('<input type=\"search\" autocomplete=\"off\">');\r\n            if (!this.options.filterInputClass){\r\n                $filterInput.css(defFilterInputStyle);\r\n                $filterInput.css(\"color\", this.options.filterInputColor);\r\n            } else {\r\n                $filterInput.addClass(this.options.filterInputClass);\r\n            }\r\n            $filterInput.appendTo($filterInputItem);\r\n            this.filterInput = $filterInput.get(0)\r\n\r\n            var $dropDownMenu = $(\"<ul/>\").appendTo($container);\r\n            this.dropDownMenu = $dropDownMenu.get(0);\r\n\r\n            $dropDownMenu.addClass(this.options.dropDownMenuClass);\r\n            //if (this.options.usePopper) {\r\n                this.popper = new Popper(this.filterInput, this.dropDownMenu, {\r\n                    placement: 'bottom-start',\r\n                    modifiers: {\r\n                        flip: {\r\n                            behavior: ['left', 'right']\r\n                        },\r\n                    },\r\n                });\r\n            // } else {\r\n            //     $(this.dropDownMenu).addClass(\"dropdown dropdown-menu\")\r\n            //     $(this.dropDownMenu).data(\"\", \"\");\r\n            //     $(this.dropDownMenu).dropdown({\r\n            //         placement: 'bottom-start',\r\n            //         flip: false,\r\n            //         reference: this.filterInput\r\n            //     });\r\n            // }\r\n\r\n            if (this.options.items == null) {\r\n                this.options.items.forEach(item => {\r\n                    var itemValue = item['value'];\r\n                    var itemText = item['text'];\r\n                    var isChecked = item['isChecked'];\r\n                    this.appendDropDownItem(itemValue, itemText, isChecked);\r\n                });\r\n                this.hasItems = options.items.length > 0;\r\n            } else {\r\n                var selectOptions = $input.find('option');\r\n                selectOptions.each(\r\n                    (index, option) => {\r\n                        var itemValue = option.value;\r\n                        var itemText = option.text;\r\n                        var isChecked = option.selected;\r\n                        this.appendDropDownItem(itemValue, itemText, isChecked);\r\n                    }\r\n                );\r\n                this.hasItems = selectOptions.length > 0;\r\n            }\r\n            if (disabled) {\r\n                this.filterInput.style.display = \"none\";\r\n                if(!this.options.selectedPanelReadonlyClass){\r\n                    $selectedPanel.css({\"background-color\": this.options.selectedPanelReadonlyBackgroundColor});\r\n                }else{\r\n                    $selectedPanel.addClass(this.options.selectedPanelReadonlyClass);\r\n                }\r\n                $selectedPanel.find('button').prop(\"disabled\", true);\r\n                $selectedPanel.addClass();\r\n            } else {\r\n                var inputId = this.input.id;\r\n                var formGroup = this.input.closest(\".form-group\");\r\n                if (formGroup != null) {\r\n                    var label = formGroup.querySelector(`label[for=\"${inputId}\"]`);\r\n                    var f = $(label).attr(\"for\");\r\n                    if ( f == this.input.id) {\r\n                        this.filterInput.id = \"dashboardcode-bsmultiselect-generated-filter-id-\" + this.input.id;\r\n                        label.setAttribute(\"for\", this.filterInput.id);\r\n                    }\r\n                }\r\n\r\n                this.updateDropDownPosition();\r\n\r\n                $dropDownMenu.click(event => {\r\n                    //console.log('dropDownMenu click - stopPropagation')\r\n                    event.stopPropagation();\r\n                });\r\n\r\n                $dropDownMenu.find('li').click((event) => {\r\n                    this.clickDropDownItem(event);\r\n                });\r\n\r\n                $dropDownMenu.on(\"mouseover\", (event) => {\r\n                    this.resetSelectDropDownMenu();\r\n                });\r\n\r\n                $dropDownMenu.find(\"li\").on(\"mouseover\", (event) => {\r\n                    event.target.closest(\"li\").classList.add('text-primary');\r\n                    event.target.closest(\"li\").classList.add('bg-light');\r\n                });\r\n\r\n                $dropDownMenu.find(\"li\").on(\"mouseout\", (event) => {\r\n                    event.target.closest(\"li\").classList.remove('text-primary');\r\n                    event.target.closest(\"li\").classList.remove('bg-light');\r\n                });\r\n\r\n                $selectedPanel.click((event) => {\r\n                    //console.log('selectedPanel click ' + event.target.nodeName);\r\n                    if (event.target.nodeName != \"INPUT\")\r\n                        $(this.filterInput).val('').focus();\r\n                    if (!(event.target.nodeName == \"BUTTON\" || (event.target.nodeName == \"SPAN\" && event.target.parentElement.nodeName == \"BUTTON\")))\r\n                        this.showDropDown();\r\n                });\r\n\r\n\r\n                $filterInput.on(\"keydown\", (event) => {\r\n                    if (event.which == 38 || event.keyCode == 38) {\r\n                        event.preventDefault();\r\n                        this.keydownArrow(false);\r\n                    }\r\n                    else if (event.which == 40 || event.keyCode == 40) {\r\n                        event.preventDefault()\r\n                        this.keydownArrow(true);\r\n                    }\r\n                    else if (event.which == 13 || event.keyCode == 13) {\r\n                        event.preventDefault();\r\n                    }\r\n                    else if (event.which == 9 || event.keyCode == 9){\r\n                        if (this.filterInput.value){\r\n                            event.preventDefault();\r\n                        }else{\r\n                            this.closeDropDown();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (event.which == 8 || event.keyCode == 8) {\r\n                            // detect that backspace is at start of input field (this will be used at keydown)\r\n                            this.backspaceAtStartPoint = (this.filterInput.selectionStart == 0 && this.filterInput.selectionEnd == 0);\r\n                        }\r\n                        this.resetSelectDropDownMenu();\r\n                    }\r\n                });\r\n\r\n                $filterInput.on(\"keyup\", (event) => {\r\n                    if (event.which == 13 || event.keyCode == 13 || event.which == 9 || event.keyCode == 9) {\r\n                        if (this.selectedDropDownItem != null) {\r\n                            var $item = $(this.selectedDropDownItem);\r\n                            var $checkBox = $item.find('input[type=\"checkbox\"]');\r\n                            var optionId = $item.data('option-id');\r\n                            if (!$checkBox.prop('checked')) {\r\n                                var itemText = $item.find('label').text();\r\n                                this.createAndAppendSelectedItem($checkBox, optionId, itemText);\r\n                                $checkBox.prop('checked', true);\r\n                                this.filterInput.value = \"\";\r\n                            } else {\r\n                                var $selectedItem = $(this.selectedPanel).find(`li[data-option-id=\"${optionId}\"]`);\r\n                                this.removeSelectedItem($selectedItem, optionId, $checkBox);\r\n                            }\r\n                            //this.resetSelectDropDownMenu();\r\n                        } else {\r\n                            this.analyzeInputText();\r\n                        }\r\n                        if (event.which == 9 || event.keyCode == 9){\r\n                            this.closeDropDown();\r\n\r\n                        }\r\n                    } else if (event.which == 8 || event.keyCode == 8) {\r\n                        var startPosition = this.filterInput.selectionStart;\r\n                        var endPosition = this.filterInput.selectionEnd;\r\n                        if (endPosition == 0 && startPosition == 0 && this.backspaceAtStartPoint) {\r\n                            var array = [...this.selectedPanel.querySelectorAll(\"LI\")];\r\n                            if (array.length >= 2) {\r\n                                var itemToDelete = array[array.length - 2];\r\n                                var $itemToDelete = $(itemToDelete);\r\n                                var optionId = $itemToDelete.data(\"option-id\");\r\n                                var item = [...this.dropDownMenu.querySelectorAll(\"LI\")]\r\n                                    .find(i => i.dataset.optionId == optionId);\r\n                                var $item = $(item);\r\n                                var $checkBox = $item.find('input[type=\"checkbox\"]');\r\n                                var $selectedItem = $(this.selectedPanel).find(`li[data-option-id=\"${optionId}\"]`);\r\n                                this.removeSelectedItem($selectedItem, optionId, $checkBox);\r\n                            }\r\n                        }\r\n                        this.backspaceAtStartPoint = null;\r\n                    } else if (event.which == 27 || event.keyCode == 27) { // escape\r\n                        this.closeDropDown();\r\n                    }\r\n\r\n                });\r\n\r\n                // Set on change for filter input\r\n                $filterInput.on('input', (event) => { // keyup focus\r\n                    //console.log('filterInput input');\r\n                    this.adoptFilterInputLength();\r\n                    this.filterDropDownMenu();\r\n                    if (this.hasItems) {\r\n                        this.updateDropDownPosition(); // support case when textbox can change its place because of line break (texbox grow with each key press)\r\n                        this.showDropDown();\r\n                    } else {\r\n                        this.hideDropDown();\r\n                    }\r\n                });\r\n\r\n                $filterInput.focusin((event) => {\r\n                    if( $selectedPanel.hasClass(\"is-valid\") &&  this.options.selectedPanelValidBoxShadow ){\r\n                        $selectedPanel.css(\"box-shadow\", this.options.selectedPanelValidBoxShadow );              \r\n                    }else if ( $selectedPanel.hasClass(\"is-invalid\") && this.options.selectedPanelInvalidBoxShadow){\r\n                        $selectedPanel.css(\"box-shadow\", this.options.selectedPanelInvalidBoxShadow );\r\n                    }\r\n                    $(this.selectedPanel).addClass(\"focus\");\r\n                });\r\n\r\n                $filterInput.focusout((event) => {\r\n                    if (!this.skipFocusout)\r\n                    {\r\n                        $selectedPanel.css(\"box-shadow\", \"\" );                \r\n                        $(this.selectedPanel).removeClass(\"focus\");\r\n                    }\r\n                });\r\n\r\n                $container.mousedown((event) => {\r\n                    this.skipFocusout = true;\r\n\r\n                });\r\n\r\n                $(window.document).mouseup((event) => {\r\n                    this.skipFocusout = false;\r\n                    if (!(this.container === event.target || this.container.contains(event.target))) {\r\n                        //console.log(\"document mouseup outside container\");\r\n                        this.closeDropDown();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    var jQueryInterface = function (options) {\r\n        return this.each(function () {\r\n            let data = $(this).data(dataKey)\r\n\r\n            if (!data) {\r\n                if (/dispose|hide/.test(options)) {\r\n                    return;\r\n                }\r\n                else {\r\n                    const optionsObject = (typeof options === 'object')? options:null;\r\n                    data = new Plugin(this, optionsObject);\r\n                    $(this).data(dataKey, data);\r\n                }\r\n            }\r\n\r\n            if (typeof options === 'string') {\r\n                var methodName = options;\r\n                if (typeof data[methodName] === 'undefined') {\r\n                    throw new TypeError(`No method named \"${methodName}\"`)\r\n                }\r\n                data[methodName]()\r\n            }\r\n        })\r\n    }\r\n\r\n    $.fn[pluginName] = jQueryInterface;\r\n\r\n    // in case of mulitple $(this) it will return 1st element plugin instance\r\n    $.fn[pluginName.charAt(0).toUpperCase() + pluginName.slice(1)] = function (options) {\r\n        return $(this).data(\"plugin_\" + pluginName);\r\n    };\r\n\r\n    $.fn[pluginName].Constructor = Plugin;\r\n\r\n    $.fn[pluginName].noConflict = function () {\r\n        $.fn[pluginName] = JQUERY_NO_CONFLICT\r\n        return jQueryInterface;\r\n    }\r\n    return Plugin;\r\n})(window, $, Popper);\r\n\r\nexport default BsMultiSelect;\r\n"]}